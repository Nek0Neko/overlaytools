import{d as v,u as C,a as P,c as R,b as d,t as L,e as i,f as t,w as a,r as V,g as s,h,j as m,E as k,_ as x}from"./index-tSqb5k_b.js";const A={class:"players-page"},B={class:"page-header"},T={class:"card-header"},Y=v({__name:"Players",setup(F){const{t:r}=C(),l=P(),u=V([]),b=()=>{l.send({type:"GET_PLAYERS_FROM_RESULTS"})},f=()=>{l.send({type:"GET_PLAYERS_FROM_LOBBY"})},y=o=>{l.send({type:"SET_PLAYER_NAME",id:o.id,name:o.customName}),k.success("Player name set")};return l.subscribe("PLAYERS",o=>{o.players&&(u.value=o.players.map(e=>({id:e.id,ingameName:e.name||"",customName:e.customName||""})))}),(o,e)=>{const _=s("el-button"),E=s("el-button-group"),n=s("el-table-column"),N=s("el-input"),g=s("el-table"),S=s("el-card");return h(),R("div",A,[d("div",B,[d("h2",null,L(i(r)("menu.players")),1)]),t(S,{class:"content-card"},{header:a(()=>[d("div",T,[e[2]||(e[2]=d("span",null,"收集玩家哈希",-1)),t(E,null,{default:a(()=>[t(_,{onClick:b},{default:a(()=>[...e[0]||(e[0]=[m("从结果获取",-1)])]),_:1}),t(_,{onClick:f},{default:a(()=>[...e[1]||(e[1]=[m("从大厅获取",-1)])]),_:1})]),_:1})])]),default:a(()=>[t(g,{data:u.value,stripe:""},{default:a(()=>[t(n,{prop:"id",label:"ID",width:"200"}),t(n,{prop:"ingameName",label:"游戏内名称"}),t(n,{label:"设置名称",width:"250"},{default:a(({row:c})=>[t(N,{modelValue:c.customName,"onUpdate:modelValue":p=>c.customName=p,size:"small",placeholder:"输入自定义名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(n,{label:i(r)("common.action"),width:"100"},{default:a(({row:c})=>[t(_,{size:"small",type:"primary",onClick:p=>y(c)},{default:a(()=>[...e[3]||(e[3]=[m(" 设置 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})])}}}),w=x(Y,[["__scopeId","data-v-0ca33766"]]);export{w as default};
