import{v as C,ay as R,B as S,E as c,R as P,u as i,C as t,D as a,r as L,ab as s,y as V,Q as d}from"./vue-vendor-CHJA6o4q.js";import{u as k,_ as B}from"./index-B_lCm9yO.js";import{f as h}from"./element-plus-DPYOyBEs.js";const x={class:"players-page"},A={class:"page-header"},T={class:"card-header"},Y=C({__name:"Players",setup(F){const{t:_}=R(),l=k(),u=L([]),f=()=>{l.send({type:"GET_PLAYERS_FROM_RESULTS"})},b=()=>{l.send({type:"GET_PLAYERS_FROM_LOBBY"})},y=o=>{l.send({type:"SET_PLAYER_NAME",id:o.id,name:o.customName}),h.success("Player name set")};return l.subscribe("PLAYERS",o=>{o.players&&(u.value=o.players.map(e=>({id:e.id,ingameName:e.name||"",customName:e.customName||""})))}),(o,e)=>{const r=s("el-button"),E=s("el-button-group"),n=s("el-table-column"),N=s("el-input"),g=s("el-table"),v=s("el-card");return V(),S("div",x,[c("div",A,[c("h2",null,P(i(_)("menu.players")),1)]),t(v,{class:"content-card"},{header:a(()=>[c("div",T,[e[2]||(e[2]=c("span",null,"收集玩家哈希",-1)),t(E,null,{default:a(()=>[t(r,{onClick:f},{default:a(()=>[...e[0]||(e[0]=[d("从结果获取",-1)])]),_:1}),t(r,{onClick:b},{default:a(()=>[...e[1]||(e[1]=[d("从大厅获取",-1)])]),_:1})]),_:1})])]),default:a(()=>[t(g,{data:u.value,stripe:""},{default:a(()=>[t(n,{prop:"id",label:"ID",width:"200"}),t(n,{prop:"ingameName",label:"游戏内名称"}),t(n,{label:"设置名称",width:"250"},{default:a(({row:m})=>[t(N,{modelValue:m.customName,"onUpdate:modelValue":p=>m.customName=p,size:"small",placeholder:"输入自定义名称"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(n,{label:i(_)("common.action"),width:"100"},{default:a(({row:m})=>[t(r,{size:"small",type:"primary",onClick:p=>y(m)},{default:a(()=>[...e[3]||(e[3]=[d(" 设置 ",-1)])]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})])}}}),O=B(Y,[["__scopeId","data-v-0ca33766"]]);export{O as default};
