import{v as B,ay as C,B as v,E as l,R as u,u as E,C as e,D as a,r as _,ab as o,y as d,J as R,a5 as S,Q as x,z as V}from"./vue-vendor-CHJA6o4q.js";import{u as N,_ as M}from"./index-B_lCm9yO.js";import{g as P,f as L}from"./element-plus-DPYOyBEs.js";const U={class:"results-page"},D={class:"page-header"},F={class:"card-header"},I={class:"match-info"},O=B({__name:"Results",setup($){const{t:g}=C(),r=N(),i=_("all"),m=_([]),b=_([]),w=async()=>{try{await P.confirm("确定要强制结束当前比赛吗？这可能导致数据不准确。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),r.send({type:"FORCE_POST_MATCH"}),L.success("Post match triggered")}catch{}};return r.subscribe("RESULTS",n=>{n.total&&(m.value=n.total),n.matches&&(b.value=n.matches)}),r.send({type:"GET_RESULTS"}),(n,s)=>{const y=o("el-button"),t=o("el-table-column"),f=o("el-table"),h=o("el-tab-pane"),T=o("el-tabs"),k=o("el-card");return d(),v("div",U,[l("div",D,[l("h2",null,u(E(g)("menu.results")),1)]),e(k,{class:"content-card"},{header:a(()=>[l("div",F,[s[2]||(s[2]=l("span",null,"比赛结果",-1)),e(y,{onClick:w},{default:a(()=>[...s[1]||(s[1]=[x("强制结束比赛",-1)])]),_:1})])]),default:a(()=>[e(T,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=c=>i.value=c)},{default:a(()=>[e(h,{label:"综合结果",name:"all"},{default:a(()=>[e(f,{data:m.value,stripe:""},{default:a(()=>[e(t,{prop:"rank",label:"排名",width:"80"}),e(t,{prop:"teamName",label:"队伍名称"}),e(t,{prop:"totalPoints",label:"总积分",width:"100"}),e(t,{prop:"kills",label:"击杀",width:"80"}),e(t,{prop:"placement",label:"排名积分",width:"100"})]),_:1},8,["data"])]),_:1}),(d(!0),v(R,null,S(b.value,(c,p)=>(d(),V(h,{key:p,label:`比赛 ${p+1}`,name:`match-${p}`},{default:a(()=>[l("div",I,[l("p",null,"数据中心: "+u(c.datacenter),1),l("p",null,"时间: "+u(c.timestamp),1)]),e(f,{data:c.teams,stripe:""},{default:a(()=>[e(t,{prop:"placement",label:"排名",width:"80"}),e(t,{prop:"teamName",label:"队伍名称"}),e(t,{prop:"kills",label:"击杀",width:"80"}),e(t,{prop:"points",label:"积分",width:"80"})]),_:1},8,["data"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}}),H=M(O,[["__scopeId","data-v-3827fc47"]]);export{H as default};
