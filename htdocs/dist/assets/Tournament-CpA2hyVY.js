import{v as $,ay as j,r as T,j as q,B as P,E as r,R as m,u as a,C as e,D as t,ax as z,ab as o,y as S,Y as x,Q as _,J as F,a5 as G,c as H}from"./vue-vendor-CHJA6o4q.js";import{u as J,_ as Q}from"./index-B_lCm9yO.js";import{f as p}from"./element-plus-DPYOyBEs.js";const Y={class:"tournament-page"},K={class:"page-header"},W=$({__name:"Tournament",setup(X){const{t:n}=j(),U=z(),d=J(),E=T(U.query.tab||"create"),i=T(""),f=T(""),g=H(()=>d.tournaments),c=T({advancePoints:"",matchPoints:0,matchCount:6}),w=()=>{if(!i.value){p.warning("Please enter tournament name");return}d.send({type:"CREATE_TOURNAMENT",name:i.value}),p.success("Tournament created")},M=C=>{d.send({type:"SELECT_TOURNAMENT",id:C.id}),p.success(`Selected: ${C.name}`)},R=()=>{if(!f.value){p.warning("Please enter new name");return}d.send({type:"RENAME_TOURNAMENT",name:f.value}),p.success("Tournament renamed")},k=()=>{d.send({type:"SET_CALC_METHOD",...c.value}),p.success("Calculation method updated")};return q(()=>{d.send({type:"GET_TOURNAMENTS"})}),(C,u)=>{const y=o("el-input"),s=o("el-form-item"),b=o("el-button"),h=o("el-form"),A=o("el-text"),v=o("el-card"),V=o("el-table-column"),D=o("el-table"),N=o("el-tab-pane"),O=o("el-input-number"),B=o("el-option"),L=o("el-select"),I=o("el-tabs");return S(),P("div",Y,[r("div",K,[r("h2",null,m(a(n)("tournament.createTitle")),1),r("p",null,m(a(n)("tournament.createDesc")),1)]),e(I,{modelValue:E.value,"onUpdate:modelValue":u[5]||(u[5]=l=>E.value=l)},{default:t(()=>[e(N,{label:a(n)("menu.tournamentCreate"),name:"create"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[r("span",null,m(a(n)("tournament.createNew")),1)]),default:t(()=>[e(h,{onSubmit:x(w,["prevent"])},{default:t(()=>[e(s,null,{default:t(()=>[e(y,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=l=>i.value=l),placeholder:a(n)("tournament.inputName"),style:{"max-width":"400px"}},null,8,["modelValue","placeholder"])]),_:1}),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:w},{default:t(()=>[_(m(a(n)("common.create")),1)]),_:1})]),_:1})]),_:1}),e(A,{type:"info"},{default:t(()=>[_(m(a(n)("tournament.existsNote")),1)]),_:1})]),_:1}),e(v,{class:"content-card"},{header:t(()=>[r("span",null,m(a(n)("tournament.selectExisting")),1)]),default:t(()=>[e(D,{data:g.value,stripe:"",onRowClick:M},{default:t(()=>[e(V,{prop:"name",label:a(n)("common.name")},null,8,["label"]),e(V,{prop:"id",label:a(n)("common.id"),width:"300"},null,8,["label"]),e(V,{label:a(n)("common.action"),width:"120"},{default:t(({row:l})=>[e(b,{size:"small",type:"primary",onClick:x(Z=>M(l),["stop"])},{default:t(()=>[_(m(a(n)("common.select")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1},8,["label"]),e(N,{label:a(n)("menu.tournamentRename"),name:"rename"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[r("span",null,m(a(n)("tournament.renameTitle")),1)]),default:t(()=>[r("p",null,m(a(n)("tournament.renameDesc")),1),e(h,{onSubmit:x(R,["prevent"])},{default:t(()=>[e(s,null,{default:t(()=>[e(y,{modelValue:f.value,"onUpdate:modelValue":u[1]||(u[1]=l=>f.value=l),placeholder:a(n)("tournament.inputName"),style:{"max-width":"400px"}},null,8,["modelValue","placeholder"])]),_:1}),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:R},{default:t(()=>[_(m(a(n)("menu.tournamentRename")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"]),e(N,{label:a(n)("menu.tournamentCalc"),name:"calc"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[r("span",null,m(a(n)("tournament.calcTitle")),1)]),default:t(()=>[e(h,{"label-width":"150px"},{default:t(()=>[e(s,{label:a(n)("tournament.advancePoints")},{default:t(()=>[e(y,{modelValue:c.value.advancePoints,"onUpdate:modelValue":u[2]||(u[2]=l=>c.value.advancePoints=l),placeholder:"5,4,3,2,1",style:{"max-width":"300px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(s,{label:a(n)("tournament.matchPoints")},{default:t(()=>[e(O,{modelValue:c.value.matchPoints,"onUpdate:modelValue":u[3]||(u[3]=l=>c.value.matchPoints=l),min:0},null,8,["modelValue"])]),_:1},8,["label"]),e(s,{label:a(n)("tournament.matchCount")},{default:t(()=>[e(L,{modelValue:c.value.matchCount,"onUpdate:modelValue":u[4]||(u[4]=l=>c.value.matchCount=l)},{default:t(()=>[(S(),P(F,null,G(16,l=>e(B,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:k},{default:t(()=>[_(m(a(n)("tournament.setCalcMethod")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])])}}}),ae=Q(W,[["__scopeId","data-v-9083e9f9"]]);export{ae as default};
