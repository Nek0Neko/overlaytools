import{d as S,u as y,a as B,c as v,b as l,t as u,e as C,f as e,w as a,r as d,g as o,h as _,F as R,n as x,j as V,s as N,E as M,i as P,_ as F}from"./index-tSqb5k_b.js";const L={class:"results-page"},U={class:"page-header"},I={class:"card-header"},O={class:"match-info"},$=S({__name:"Results",setup(j){const{t:w}=y(),r=B(),i=d("all"),m=d([]),b=d([]),g=async()=>{try{await N.confirm("确定要强制结束当前比赛吗？这可能导致数据不准确。","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),r.send({type:"FORCE_POST_MATCH"}),M.success("Post match triggered")}catch{}};return r.subscribe("RESULTS",n=>{n.total&&(m.value=n.total),n.matches&&(b.value=n.matches)}),r.send({type:"GET_RESULTS"}),(n,s)=>{const T=o("el-button"),t=o("el-table-column"),f=o("el-table"),h=o("el-tab-pane"),k=o("el-tabs"),E=o("el-card");return _(),v("div",L,[l("div",U,[l("h2",null,u(C(w)("menu.results")),1)]),e(E,{class:"content-card"},{header:a(()=>[l("div",I,[s[2]||(s[2]=l("span",null,"比赛结果",-1)),e(T,{onClick:g},{default:a(()=>[...s[1]||(s[1]=[V("强制结束比赛",-1)])]),_:1})])]),default:a(()=>[e(k,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=c=>i.value=c)},{default:a(()=>[e(h,{label:"综合结果",name:"all"},{default:a(()=>[e(f,{data:m.value,stripe:""},{default:a(()=>[e(t,{prop:"rank",label:"排名",width:"80"}),e(t,{prop:"teamName",label:"队伍名称"}),e(t,{prop:"totalPoints",label:"总积分",width:"100"}),e(t,{prop:"kills",label:"击杀",width:"80"}),e(t,{prop:"placement",label:"排名积分",width:"100"})]),_:1},8,["data"])]),_:1}),(_(!0),v(R,null,x(b.value,(c,p)=>(_(),P(h,{key:p,label:`比赛 ${p+1}`,name:`match-${p}`},{default:a(()=>[l("div",O,[l("p",null,"数据中心: "+u(c.datacenter),1),l("p",null,"时间: "+u(c.timestamp),1)]),e(f,{data:c.teams,stripe:""},{default:a(()=>[e(t,{prop:"placement",label:"排名",width:"80"}),e(t,{prop:"teamName",label:"队伍名称"}),e(t,{prop:"kills",label:"击杀",width:"80"}),e(t,{prop:"points",label:"积分",width:"80"})]),_:1},8,["data"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})])}}}),D=F($,[["__scopeId","data-v-3827fc47"]]);export{D as default};
