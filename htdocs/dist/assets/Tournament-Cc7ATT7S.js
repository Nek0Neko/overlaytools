import{d as I,u as $,a as j,r as T,o as q,c as P,b as c,t as m,e as a,f as e,w as t,l as z,g as o,h as R,m as E,j as _,F as G,n as H,p as J,E as p,_ as K}from"./index-tSqb5k_b.js";const Q={class:"tournament-page"},W={class:"page-header"},X=I({__name:"Tournament",setup(Y){const{t:n}=$(),S=z(),d=j(),x=T(S.query.tab||"create"),i=T(""),f=T(""),U=J(()=>d.tournaments),r=T({advancePoints:"",matchPoints:0,matchCount:6}),w=()=>{if(!i.value){p.warning("Please enter tournament name");return}d.send({type:"CREATE_TOURNAMENT",name:i.value}),p.success("Tournament created")},M=C=>{d.send({type:"SELECT_TOURNAMENT",id:C.id}),p.success(`Selected: ${C.name}`)},g=()=>{if(!f.value){p.warning("Please enter new name");return}d.send({type:"RENAME_TOURNAMENT",name:f.value}),p.success("Tournament renamed")},k=()=>{d.send({type:"SET_CALC_METHOD",...r.value}),p.success("Calculation method updated")};return q(()=>{d.send({type:"GET_TOURNAMENTS"})}),(C,u)=>{const h=o("el-input"),s=o("el-form-item"),b=o("el-button"),V=o("el-form"),A=o("el-text"),v=o("el-card"),y=o("el-table-column"),O=o("el-table"),N=o("el-tab-pane"),D=o("el-input-number"),B=o("el-option"),L=o("el-select"),F=o("el-tabs");return R(),P("div",Q,[c("div",W,[c("h2",null,m(a(n)("tournament.createTitle")),1),c("p",null,m(a(n)("tournament.createDesc")),1)]),e(F,{modelValue:x.value,"onUpdate:modelValue":u[5]||(u[5]=l=>x.value=l)},{default:t(()=>[e(N,{label:a(n)("menu.tournamentCreate"),name:"create"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[c("span",null,m(a(n)("tournament.createNew")),1)]),default:t(()=>[e(V,{onSubmit:E(w,["prevent"])},{default:t(()=>[e(s,null,{default:t(()=>[e(h,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=l=>i.value=l),placeholder:a(n)("tournament.inputName"),style:{"max-width":"400px"}},null,8,["modelValue","placeholder"])]),_:1}),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:w},{default:t(()=>[_(m(a(n)("common.create")),1)]),_:1})]),_:1})]),_:1}),e(A,{type:"info"},{default:t(()=>[_(m(a(n)("tournament.existsNote")),1)]),_:1})]),_:1}),e(v,{class:"content-card"},{header:t(()=>[c("span",null,m(a(n)("tournament.selectExisting")),1)]),default:t(()=>[e(O,{data:U.value,stripe:"",onRowClick:M},{default:t(()=>[e(y,{prop:"name",label:a(n)("common.name")},null,8,["label"]),e(y,{prop:"id",label:a(n)("common.id"),width:"300"},null,8,["label"]),e(y,{label:a(n)("common.action"),width:"120"},{default:t(({row:l})=>[e(b,{size:"small",type:"primary",onClick:E(Z=>M(l),["stop"])},{default:t(()=>[_(m(a(n)("common.select")),1)]),_:1},8,["onClick"])]),_:1},8,["label"])]),_:1},8,["data"])]),_:1})]),_:1},8,["label"]),e(N,{label:a(n)("menu.tournamentRename"),name:"rename"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[c("span",null,m(a(n)("tournament.renameTitle")),1)]),default:t(()=>[c("p",null,m(a(n)("tournament.renameDesc")),1),e(V,{onSubmit:E(g,["prevent"])},{default:t(()=>[e(s,null,{default:t(()=>[e(h,{modelValue:f.value,"onUpdate:modelValue":u[1]||(u[1]=l=>f.value=l),placeholder:a(n)("tournament.inputName"),style:{"max-width":"400px"}},null,8,["modelValue","placeholder"])]),_:1}),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:g},{default:t(()=>[_(m(a(n)("menu.tournamentRename")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"]),e(N,{label:a(n)("menu.tournamentCalc"),name:"calc"},{default:t(()=>[e(v,{class:"content-card"},{header:t(()=>[c("span",null,m(a(n)("tournament.calcTitle")),1)]),default:t(()=>[e(V,{"label-width":"150px"},{default:t(()=>[e(s,{label:a(n)("tournament.advancePoints")},{default:t(()=>[e(h,{modelValue:r.value.advancePoints,"onUpdate:modelValue":u[2]||(u[2]=l=>r.value.advancePoints=l),placeholder:"5,4,3,2,1",style:{"max-width":"300px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(s,{label:a(n)("tournament.matchPoints")},{default:t(()=>[e(D,{modelValue:r.value.matchPoints,"onUpdate:modelValue":u[3]||(u[3]=l=>r.value.matchPoints=l),min:0},null,8,["modelValue"])]),_:1},8,["label"]),e(s,{label:a(n)("tournament.matchCount")},{default:t(()=>[e(L,{modelValue:r.value.matchCount,"onUpdate:modelValue":u[4]||(u[4]=l=>r.value.matchCount=l)},{default:t(()=>[(R(),P(G,null,H(16,l=>e(B,{key:l,label:l,value:l},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(s,null,{default:t(()=>[e(b,{type:"primary",onClick:k},{default:t(()=>[_(m(a(n)("tournament.setCalcMethod")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["modelValue"])])}}}),te=K(X,[["__scopeId","data-v-9083e9f9"]]);export{te as default};
